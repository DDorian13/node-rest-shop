{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\D\\xE1vid Dori\\xE1n\\\\Egyetem\\\\5. f\\xE9l\\xE9v\\\\T\\xE9malabor\\\\AndroidLibrary\\\\node-rest-shop\\\\client\\\\src\\\\App.js\";\nimport React from 'react';\nimport { Admin, Resource, fetchUtils } from 'react-admin';\nimport customKeysDataProvider from 'ra-data-rest-client';\nimport ProductList from './components/ProductList';\nimport ProductCreate from './components/ProductCreate';\nimport ProductEdit from './components/ProductEdit';\nimport OrderList from './components/OrderList';\nimport OrderCreate from './components/OrderCreate';\nimport OrderShow from './components/OrderShow';\nimport authProvider from \"./authentication/authProvider\";\nimport MyLoginPage from \"./MyLoginPage\";\n\nconst httpClient = (url, options = {}) => {\n  console.log('ird mar ki');\n\n  if (!options.headers) {\n    options.headers = new Headers({\n      Accept: 'application/json'\n    });\n  }\n\n  const {\n    token\n  } = JSON.parse(localStorage.getItem('token'));\n  console.log({\n    token\n  });\n  options.headers.set('Authorization', `Bearer ${token}`);\n  return fetchUtils.fetchJson(url, options);\n};\n\nconst customKeysHash = {\n  'products': '_id',\n  'orders': '_id',\n  'users': '_id'\n};\nconst dataProvider = customKeysDataProvider('http://localhost:5000', customKeysHash, null, httpClient);\n\nfunction App() {\n  return /*#__PURE__*/React.createElement(Admin, {\n    loginPage: MyLoginPage,\n    authProvider: authProvider,\n    dataProvider: dataProvider,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 33,\n      columnNumber: 12\n    }\n  }, permissions => [/*#__PURE__*/React.createElement(Resource, {\n    name: \"products\",\n    list: ProductList,\n    create: ProductCreate,\n    edit: ProductEdit,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 35,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(Resource, {\n    name: \"orders\",\n    list: OrderList,\n    create: OrderCreate,\n    show: OrderShow,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 39,\n      columnNumber: 9\n    }\n  })]);\n}\n\nexport default App;","map":{"version":3,"sources":["C:/Users/Dávid Dorián/Egyetem/5. félév/Témalabor/AndroidLibrary/node-rest-shop/client/src/App.js"],"names":["React","Admin","Resource","fetchUtils","customKeysDataProvider","ProductList","ProductCreate","ProductEdit","OrderList","OrderCreate","OrderShow","authProvider","MyLoginPage","httpClient","url","options","console","log","headers","Headers","Accept","token","JSON","parse","localStorage","getItem","set","fetchJson","customKeysHash","dataProvider","App","permissions"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAASC,KAAT,EAAgBC,QAAhB,EAA0BC,UAA1B,QAA4C,aAA5C;AACA,OAAOC,sBAAP,MAAmC,qBAAnC;AACA,OAAOC,WAAP,MAAwB,0BAAxB;AACA,OAAOC,aAAP,MAA0B,4BAA1B;AACA,OAAOC,WAAP,MAAwB,0BAAxB;AACA,OAAOC,SAAP,MAAsB,wBAAtB;AACA,OAAOC,WAAP,MAAwB,0BAAxB;AACA,OAAOC,SAAP,MAAsB,wBAAtB;AACA,OAAOC,YAAP,MAAyB,+BAAzB;AACA,OAAOC,WAAP,MAAwB,eAAxB;;AAEA,MAAMC,UAAU,GAAG,CAACC,GAAD,EAAMC,OAAO,GAAG,EAAhB,KAAuB;AACtCC,EAAAA,OAAO,CAACC,GAAR,CAAY,YAAZ;;AACA,MAAI,CAACF,OAAO,CAACG,OAAb,EAAsB;AAClBH,IAAAA,OAAO,CAACG,OAAR,GAAkB,IAAIC,OAAJ,CAAY;AAAEC,MAAAA,MAAM,EAAE;AAAV,KAAZ,CAAlB;AACH;;AACD,QAAM;AAAEC,IAAAA;AAAF,MAAYC,IAAI,CAACC,KAAL,CAAWC,YAAY,CAACC,OAAb,CAAqB,OAArB,CAAX,CAAlB;AACAT,EAAAA,OAAO,CAACC,GAAR,CAAY;AAACI,IAAAA;AAAD,GAAZ;AACAN,EAAAA,OAAO,CAACG,OAAR,CAAgBQ,GAAhB,CAAoB,eAApB,EAAsC,UAASL,KAAM,EAArD;AACA,SAAOlB,UAAU,CAACwB,SAAX,CAAqBb,GAArB,EAA0BC,OAA1B,CAAP;AACH,CATD;;AAWA,MAAMa,cAAc,GAAG;AACnB,cAAY,KADO;AAEnB,YAAU,KAFS;AAGnB,WAAS;AAHU,CAAvB;AAMA,MAAMC,YAAY,GAAGzB,sBAAsB,CAAC,uBAAD,EAA0BwB,cAA1B,EAA0C,IAA1C,EAAgDf,UAAhD,CAA3C;;AAEA,SAASiB,GAAT,GAAe;AACX,sBAAO,oBAAC,KAAD;AAAO,IAAA,SAAS,EAAElB,WAAlB;AAA+B,IAAA,YAAY,EAAED,YAA7C;AAA2D,IAAA,YAAY,EAAEkB,YAAzE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACFE,WAAW,IAAI,cAChB,oBAAC,QAAD;AAAU,IAAA,IAAI,EAAC,UAAf;AACU,IAAA,IAAI,EAAE1B,WADhB;AAEU,IAAA,MAAM,EAAIC,aAFpB;AAGU,IAAA,IAAI,EAAIC,WAHlB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADgB,eAKhB,oBAAC,QAAD;AAAU,IAAA,IAAI,EAAC,QAAf;AACU,IAAA,IAAI,EAAEC,SADhB;AAEU,IAAA,MAAM,EAAIC,WAFpB;AAGU,IAAA,IAAI,EAAIC,SAHlB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IALgB,CADb,CAAP;AAYH;;AAED,eAAeoB,GAAf","sourcesContent":["import React from 'react';\r\nimport { Admin, Resource, fetchUtils } from 'react-admin';\r\nimport customKeysDataProvider from 'ra-data-rest-client';\r\nimport ProductList from './components/ProductList';\r\nimport ProductCreate from './components/ProductCreate';\r\nimport ProductEdit from './components/ProductEdit';\r\nimport OrderList from './components/OrderList';\r\nimport OrderCreate from './components/OrderCreate';\r\nimport OrderShow from './components/OrderShow';\r\nimport authProvider from \"./authentication/authProvider\";\r\nimport MyLoginPage from \"./MyLoginPage\";\r\n\r\nconst httpClient = (url, options = {}) => {\r\n    console.log('ird mar ki');\r\n    if (!options.headers) {\r\n        options.headers = new Headers({ Accept: 'application/json' });\r\n    }\r\n    const { token } = JSON.parse(localStorage.getItem('token'));\r\n    console.log({token});\r\n    options.headers.set('Authorization', `Bearer ${token}`);\r\n    return fetchUtils.fetchJson(url, options);\r\n};\r\n\r\nconst customKeysHash = {\r\n    'products': '_id',\r\n    'orders': '_id',\r\n    'users': '_id'\r\n}\r\n\r\nconst dataProvider = customKeysDataProvider('http://localhost:5000', customKeysHash, null, httpClient);\r\n\r\nfunction App() {\r\n    return <Admin loginPage={MyLoginPage} authProvider={authProvider} dataProvider={dataProvider}>\r\n        {permissions => [\r\n        <Resource name='products'\r\n                  list={ProductList}\r\n                  create = {ProductCreate}\r\n                  edit = {ProductEdit}/>,\r\n        <Resource name='orders'\r\n                  list={OrderList}\r\n                  create = {OrderCreate}\r\n                  show = {OrderShow}/>\r\n        ]}\r\n    </Admin>\r\n}\r\n\r\nexport default App;\r\n"]},"metadata":{},"sourceType":"module"}