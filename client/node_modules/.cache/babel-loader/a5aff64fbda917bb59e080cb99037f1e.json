{"ast":null,"code":"var __assign = this && this.__assign || function () {\n  __assign = Object.assign || function (t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n\n      for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n    }\n\n    return t;\n  };\n\n  return __assign.apply(this, arguments);\n};\n\nvar __rest = this && this.__rest || function (s, e) {\n  var t = {};\n\n  for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0) t[p] = s[p];\n\n  if (s != null && typeof Object.getOwnPropertySymbols === \"function\") for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n    if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i])) t[p[i]] = s[p[i]];\n  }\n  return t;\n};\n\nimport { Children, createElement } from 'react';\nimport warning from '../util/warning';\nimport useAuthenticated from './useAuthenticated';\nimport usePermissions from './usePermissions';\n\nvar isEmptyChildren = function (children) {\n  return Children.count(children) === 0;\n};\n/**\r\n * After checking that the user is authenticated,\r\n * retrieves the user's permissions for a specific context.\r\n *\r\n * Useful for Route components ; used internally by Resource.\r\n * Use it to decorate your custom page components to require\r\n * a custom role. It will pass the permissions as a prop to your\r\n * component.\r\n *\r\n * You can set additional `authParams` at will if your authProvider\r\n * requires it.\r\n *\r\n * @example\r\n *     import { WithPermissions } from 'react-admin';\r\n *\r\n *     const Foo = ({ permissions }) => (\r\n *         {permissions === 'admin' ? <p>Sensitive data</p> : null}\r\n *         <p>Not sensitive data</p>\r\n *     );\r\n *\r\n *     const customRoutes = [\r\n *         <Route path=\"/foo\" render={() =>\r\n *             <WithPermissions\r\n *                  authParams={{ foo: 'bar' }}\r\n *                  render={({ permissions, ...props }) => <Foo permissions={permissions} {...props} />}\r\n *              />\r\n *         } />\r\n *     ];\r\n *     const App = () => (\r\n *         <Admin customRoutes={customRoutes}>\r\n *             ...\r\n *         </Admin>\r\n *     );\r\n */\n\n\nvar WithPermissions = function (_a) {\n  var authParams = _a.authParams,\n      children = _a.children,\n      render = _a.render,\n      component = _a.component,\n      staticContext = _a.staticContext,\n      props = __rest(_a, [\"authParams\", \"children\", \"render\", \"component\", \"staticContext\"]);\n\n  warning(render && children && !isEmptyChildren(children) || render && component || component && children && !isEmptyChildren(children), 'You should only use one of the `component`, `render` and `children` props in <WithPermissions>');\n  useAuthenticated(authParams);\n  var permissions = usePermissions(authParams).permissions; // render even though the usePermissions() call isn't finished (optimistic rendering)\n\n  if (component) {\n    return createElement(component, __assign({\n      permissions: permissions\n    }, props));\n  } // @deprecated\n\n\n  if (render) {\n    return render(__assign({\n      permissions: permissions\n    }, props));\n  } // @deprecated\n\n\n  if (children) {\n    return children(__assign({\n      permissions: permissions\n    }, props));\n  }\n};\n\nexport default WithPermissions;","map":{"version":3,"sources":["C:/Users/Dávid Dorián/Egyetem/5. félév/Témalabor/AndroidLibrary/node-rest-shop/client/node_modules/ra-core/esm/auth/WithPermissions.js"],"names":["__assign","Object","assign","t","s","i","n","arguments","length","p","prototype","hasOwnProperty","call","apply","__rest","e","indexOf","getOwnPropertySymbols","propertyIsEnumerable","Children","createElement","warning","useAuthenticated","usePermissions","isEmptyChildren","children","count","WithPermissions","_a","authParams","render","component","staticContext","props","permissions"],"mappings":"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","sourcesContent":["var __assign = (this && this.__assign) || function () {\r\n    __assign = Object.assign || function(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\r\n                t[p] = s[p];\r\n        }\r\n        return t;\r\n    };\r\n    return __assign.apply(this, arguments);\r\n};\r\nvar __rest = (this && this.__rest) || function (s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\r\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\r\n                t[p[i]] = s[p[i]];\r\n        }\r\n    return t;\r\n};\r\nimport { Children, createElement, } from 'react';\r\nimport warning from '../util/warning';\r\nimport useAuthenticated from './useAuthenticated';\r\nimport usePermissions from './usePermissions';\r\nvar isEmptyChildren = function (children) { return Children.count(children) === 0; };\r\n/**\r\n * After checking that the user is authenticated,\r\n * retrieves the user's permissions for a specific context.\r\n *\r\n * Useful for Route components ; used internally by Resource.\r\n * Use it to decorate your custom page components to require\r\n * a custom role. It will pass the permissions as a prop to your\r\n * component.\r\n *\r\n * You can set additional `authParams` at will if your authProvider\r\n * requires it.\r\n *\r\n * @example\r\n *     import { WithPermissions } from 'react-admin';\r\n *\r\n *     const Foo = ({ permissions }) => (\r\n *         {permissions === 'admin' ? <p>Sensitive data</p> : null}\r\n *         <p>Not sensitive data</p>\r\n *     );\r\n *\r\n *     const customRoutes = [\r\n *         <Route path=\"/foo\" render={() =>\r\n *             <WithPermissions\r\n *                  authParams={{ foo: 'bar' }}\r\n *                  render={({ permissions, ...props }) => <Foo permissions={permissions} {...props} />}\r\n *              />\r\n *         } />\r\n *     ];\r\n *     const App = () => (\r\n *         <Admin customRoutes={customRoutes}>\r\n *             ...\r\n *         </Admin>\r\n *     );\r\n */\r\nvar WithPermissions = function (_a) {\r\n    var authParams = _a.authParams, children = _a.children, render = _a.render, component = _a.component, staticContext = _a.staticContext, props = __rest(_a, [\"authParams\", \"children\", \"render\", \"component\", \"staticContext\"]);\r\n    warning((render && children && !isEmptyChildren(children)) ||\r\n        (render && component) ||\r\n        (component && children && !isEmptyChildren(children)), 'You should only use one of the `component`, `render` and `children` props in <WithPermissions>');\r\n    useAuthenticated(authParams);\r\n    var permissions = usePermissions(authParams).permissions;\r\n    // render even though the usePermissions() call isn't finished (optimistic rendering)\r\n    if (component) {\r\n        return createElement(component, __assign({ permissions: permissions }, props));\r\n    }\r\n    // @deprecated\r\n    if (render) {\r\n        return render(__assign({ permissions: permissions }, props));\r\n    }\r\n    // @deprecated\r\n    if (children) {\r\n        return children(__assign({ permissions: permissions }, props));\r\n    }\r\n};\r\nexport default WithPermissions;\r\n"]},"metadata":{},"sourceType":"module"}